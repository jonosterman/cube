#################################################
## Cube
#################################################

The aim of project Cube is to provide a secure
platform to access several environments in a 
secure manner from the same physical machine.

It relies on the use of virtualization in order
to provide contained environment. These virtual
machines are connected to a target infrastructure
though network tunnels.

Virtual machines are contained in encrypted 
containers on the client with their configuration
and network keys. Each containers is kept closed
until it is actually used. Virtual machine are
run locally.

Administartor could prepare several virtual 
machine templates. User may eventually 'stage' 
one or several environement on a client in order 
to start them.

User has a simple 'kiosk' like interface where he
only could stage, start and stop its virtual 
machines.


## Developper environment #######################

## Checkout code from GITHUB

  git config --global user.name "Your Name"
  git config --global user.email Your@Email

  git clone git@github.com:<Username>/cube.git

## update system
#  install packages: 
apt-get install openvpn bridge-utils virtualbox-4.0
#  link script in /opt/cube/client/scripts:
ln -s /home/xxxx/xxxx/cube/cube-common/src/main/resources/scripts/container-cleanup /opt/cube/client/scripts/container-cleanup
...
#  update /etc/sudo.d/cube:
###############
## CUBE
###############
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/dmcrypt-mount-container.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/dmcrypt-create-container.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/dmcrypt-unmount-container.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/dmcrypt-delete-container.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/cube-shutdown.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/vpn-open.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/vpn-close.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/vbox-tuncreate.pl
%<username> ALL=NOPASSWD: /opt/cube/client/scripts/vbox-tundelete.pl





## Commit your changes
  git commit -m 'excplicit comments'
  git remote add origin git@github.com:<Username>/cube.git
  git push -u origin master

## build cube, update eclipse project and check file headers
 mvn -Dmaven.test.skip=true  clean install eclipse:eclipse license:format

## build + test 
 mvn clean install eclipse:eclipse license:check

## Configure eclipse
 add classpath variale: M2_REPO=/home/XXXX/.m2/repository










